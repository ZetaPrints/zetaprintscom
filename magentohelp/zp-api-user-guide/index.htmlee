

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="verify-v1" content="GACnn9+1c3JzusKbMwxWr+f9dKvqx8As8sbHI8tNyxA=" />
  <meta name="keywords" content="web-to-print, online printing, zetaprints, online print ordering" />
  <title>   API user guide | Magento web-to-print &amp; dynamic imaging</title>
  <script type="text/javascript" src="../wp-content/themes/water-zp-3/jslib.js"></script>
  <meta name="generator" content="ZetaPrints"/> <!-- leave this for stats -->
  <link rel="stylesheet" href="../wp-content/themes/water-zp-3/style.css" type="text/css" media="all" />
  <link href="../wp-content/themes/water-zp-3/style-fixed.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../feed/" />
  <link rel="alternate" type="text/xml" title="RSS .92" href="../feed/rss/" />
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="../feed/atom/" />
  <!--link rel="pingback" href="http://www.zetaprints.com/magentohelp/xmlrpc.php" /-->
  		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.zetaprints.com\/magentohelp\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.1"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d");return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(String.fromCharCode(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(String.fromCharCode(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(String.fromCharCode(55357,56835),0,0):e.fillText(String.fromCharCode(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='cat-post-tree-ajax-css'  href='../wp-content/plugins/cat-post-tree-ajax/cat-post-tree-ajax-ver=0.7.css' type='text/css' media='screen' />
<link rel='stylesheet' id='top_css-css'  href='../wp-content/themes/water-zp-3/top-menu-ver=4.4.1.css' type='text/css' media='all' />
<!--[if IE]>
<link rel='stylesheet' id='top_css_ie-css'  href='../wp-content/themes/water-zp-3/top-menu-ie-ver=4.4.1.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='codecolorer-css'  href='../wp-content/plugins/codecolorer/codecolorer-ver=0.9.9.css' type='text/css' media='screen' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='../wp-content/themes/water-zp-3/js/top-menu.js?ver=4.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CatPostAjax = {"ajaxurl":"http:\/\/www.zetaprints.com\/magentohelp\/wp-admin\/admin-ajax.php","nice_ajax_tree_img":"http:\/\/www.zetaprints.com\/magentohelp\/wp-content\/plugins\/cat-post-tree-ajax\/img\/","type":"post","id":"11728","cat":"1135"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/cat-post-tree-ajax/cat-post-tree-ajax.js?ver=4.4.1'></script>
<link rel='https://api.w.org/' href='../wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc-rsd.php.html" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Templates import' href='../templates-import/' />
<link rel='next' title='Dynamic File Attachments extension' href='../dynamic-file-attachments/' />
<meta name="generator" content="WordPress 4.4.1" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='../index-p=11728.html' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed/index-url=http___www.zetaprints.com_magentohelp_zp-api-user-guide_.html" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed/index-url=http___www.zetaprints.com_magentohelp_zp-api-user-guide_&format=xml.html" />
<meta property="og:site_name" content="Magento web-to-print &amp;amp; dynamic imaging" />
<meta property="og:title" content="API user guide" />
<meta property="og:url" content="http://www.zetaprints.com/magentohelp/zp-api-user-guide/" />
<meta property="og:type" content="article" />
  <!--[if IE]>
  <style>
  
  </style>
  <![EndIf]-->
  <style type="text/css" media="print">
  #header, #footer, #rightcol, #logo, .social_bookmark, .post-rel, .postmetadata, #questionMark, p.nocomments {display:none}
  </style>
  <link media="screen" type="text/css" href="../wp-content/themes/water-zp-3/grid.css" rel="stylesheet"/>
  <script type='text/javascript' src="../wp-content/themes/water-zp-3/js/grid.js" ></script>
</head>

<body>
  <div id="header-container" class="clearfix container">
    <div id="header">
      <div class="logo">
        <a href="../../"><img src="../wp-content/themes/water-zp-3/images/logo.gif" alt="ZetaPrints Web-to-print home"/></a>
        <h1><a href="../"><span>ZetaPrints</span> magento</a></h1>
        <h3>Web-to-Print &amp; dynamic imaging</h3>
      </div>
      <form method="get" id="searchform" action="http://www.zetaprints.com/magentohelp/">
        <div>
          <input type="text" value=""  name="s" id="s" />
          <input type="image" id="searchsubmit" alt="Search" src="../wp-content/themes/water-zp-3/images/search_btn.gif" />
        </div>
      </form>
      <div class="nav">
    <ul class="main" id="top-drop-menu">
        <li>
            <a href="../../" title="Zetaprints home">Home</a>
        </li><li class="drop">
            <a href="../../help/" class="drop-down-link">Help</a>
            <ul>
                <li>
                    <a href="../../help/" class="drop-down-link">Web-to-print help</a>
                </li>
                <li>
                    <a href="../" class="drop-down-link">Magento help</a>
                </li>
				<li>
					<a href="../../premium/" class="drop-down-link">Premium support</a>
				</li>
				<li>
					<a href="../../directory/" class="drop-down-link">Resources</a>
				</li>
				<li class="last">
					<a href="../../userhelp/" class="drop-down-link">End user help</a>
				</li>
            </ul>
        </li><li>
            <a href="../../blog/" title="Web to print blog">Blog</a>
        </li><li>
            <a href="../../packages/sign-up-for-web-to-print/" title="Sign up for web-to-print">Sign up</a>
        </li><li class="no_border">
            <a href="http://zetaprints.com" title="Web to print system">Log in</a>
        </li>
    </ul>
</div>
<!-- nav -->
    </div> <!-- header -->
  </div> <!-- container -->

<link href="%3C/index-bloginfo('template_url')?.html>/js/jquery-ui-1.8.2.custom.css" rel="stylesheet" type="text/css"/>
<script src="%3C/index-bloginfo('template_url')?.html>/js/jquery-ui-1.8.2.custom.min.js"></script>
<script>
  jQuery(document).ready(function(){
    // init jQuery for tabs div
    jQuery("#featuretabs").tabs({
      select: function(event, ui){
        jQuery( "a" ).blur(); // remove border for selected tab
      }
    })
  });
</script>
<div id="content-container" class="container clearfix">
      <div id="rightcol">
      <ul>
        <li id="text-3" class="widget widget_text"><h2 class="widgettitle">Premium support</h2>
			<div class="textwidget"><div id="premium_menu_container">
<ul id="premium_menu">
<li><a href="../../premium/index.php/web-to-print-support.html" title="Web-to-print and dynamic imaging support">Installation, administration <img src="../../help/img/premium_go_ico.png" /></a></li>
<li><a href="../../premium/index.php/templates.html" title="Web-to-print and dynamic imaging templates support">Template conversion <img src="../../help/img/premium_go_ico.png" /></a></li>
</ul>
</div></div>
		</li>
<li id="niceajaxtree-widget-3" class="widget cat-post-ajax-tree"><div class="nat-menu-li">
<h2 class="head"><a
	href="../category/overview/"
	title="View all posts in Overview">Overview</a>
<span
	class="arrow cat-item-917">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-917" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/installation-steps/"
	title="View all posts in Web-to-print installation">Web-to-print installation</a>
<span
	class="arrow cat-item-1">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/administration/"
	title="View all posts in Web-to-print administration">Web-to-print administration</a>
<span
	class="arrow cat-item-1134">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1134" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/themes-for-web-to-print/"
	title="View all posts in Web-to-print themes">Web-to-print themes</a>
<span
	class="arrow cat-item-1157">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1157" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/developer/"
	title="View all posts in Web-to-print for developers">Web-to-print for developers</a>
<span
	class="arrow cat-item-1135 collapse">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1135" style="">
<ul><li><a href='index.html' class='di__11728 postlink'><strong>API user guide</strong></a></li><li><a href='../web-to-print-extension-and-magento-compiler/' class='di__13690 postlink'>Compiling Magento with web-to-print</a></li><li><a href='../conditional-add-to-cart-button/' class='di__12414 postlink'>Conditional "Add to cart" button</a></li><li><a href='../custom-configuration/' class='di__12555 postlink'>Custom configuration</a></li><li><a href='../custom-loader-icon-in-magento/' class='di__10664 postlink'>Custom loader icon</a></li><li><a href='../activate-fit-in-field-image-editing/' class='di__12584 postlink'>Enable / Disable Fit-in-field image editing</a></li><li><a href='../interaction-overview/' class='di__11714 postlink'>Interaction overview</a></li><li><a href='../javascript-files/' class='di__11691 postlink'>JavaScript files</a></li><li><a href='../magento-theme-hiearachy/' class='di__12900 postlink'>Magento theme hiearachy</a></li><li><a href='../override-file-download-permissions/' class='di__12579 postlink'>Override file download permissions</a></li><li><a href='../magentoproducts/' class='di__11722 postlink'>Product creation / updates</a></li><li><a href='../redefined-functions/' class='di__11724 postlink'>Redefined functions</a></li><li><a href='../remove-session-id-from-mageto-url/' class='di__10529 postlink'>Remove Session ID from URL</a></li><li><a href='../remove-zptheme-sidebars/' class='di__12407 postlink'>Remove zptheme sidebars</a></li><li><a href='../templates-import/' class='di__11726 postlink'>Templates import</a></li><li><a href='../user-management/' class='di__11718 postlink'>User management</a></li></ul></div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/access-control/"
	title="View all posts in Access control plugin">Access control plugin</a>
<span
	class="arrow cat-item-570">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-570" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/approval-admin/"
	title="View all posts in Order approval plugin">Order approval plugin</a>
<span
	class="arrow cat-item-1142">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1142" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/file-attachments/"
	title="View all posts in Dynamic attachments plugin">Dynamic attachments plugin</a>
<span
	class="arrow cat-item-1143">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1143" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/fixed-quantities-plugin/"
	title="View all posts in Fixed quantities plugin">Fixed quantities plugin</a>
<span
	class="arrow cat-item-1144">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1144" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/template-errors/"
	title="View all posts in Troubleshooting">Troubleshooting</a>
<span
	class="arrow cat-item-607">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-607" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/support/"
	title="View all posts in Support">Support</a>
<span
	class="arrow cat-item-1042">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1042" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/distribution-map-plugin/"
	title="View all posts in Distribution map plugin">Distribution map plugin</a>
<span
	class="arrow cat-item-1150">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1150" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/web-to-print-store-builder/"
	title="View all posts in Web-to-print store builder">Web-to-print store builder</a>
<span
	class="arrow cat-item-1149">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1149" style="display:none;">
</div>
</div>
</li>
		<li id="recent-posts-3" class="widget widget_recent_entries">		<h2 class="widgettitle">Recent Articles</h2>
		<ul>
					<li>
				<a href="../web-to-print-extension-and-magento-compiler/">Compiling Magento with web-to-print</a>
						</li>
					<li>
				<a href="../web-to-print-demo-installation-on-magento/">Web-to-print express demo installation on Magento</a>
						</li>
					<li>
				<a href="../ignore-unpaid-web-to-print-orders/">Ignore unpaid orders</a>
						</li>
					<li>
				<a href="../dynamic-imaging-products/">Dynamic imaging products</a>
						</li>
					<li>
				<a href="../web-to-print-reports-in-magento/">Reports for web-to-print orders</a>
						</li>
				</ul>
		</li>
		      </ul>
    </div>
  <div id="leftcol">
    <div id="news" class="clearfix">
      <div id="newswrap">
                              <div class="post" id="post-11728">
              <h1 class="posttitle"><a href="index.html" rel="bookmark" title="Permanent Link: API user guide">API user guide</a></h1>
              <div class="pcont">
                <div class="catfloat"><small><a href="../category/developer/" rel="category tag">Web-to-print for developers</a></small></div>
                <small>26/10/2010 <!-- by admin --></small>
                <div class="entry">
                  <p>User guide of ZetaPrint API functions.<!--more--><br />
ZetaPrints <a href="../../">web-to-print and image generation system</a> provides a <a href="../../help/category/api/">simple web-to-print API</a> with various functions to create users, control access, generate previews and place orders. All the functions are called via HTTP GET/POST. We created a set of PHP wrappers to simplify the programming task.</p>
<h2>ZP API Code And Example</h2>
<ol>
<li>The source code for PHP wrappers is located under <em><a href="http://code.google.com/p/magento-w2p/source/browse/#svn/trunk/zp_api_lib">svn/trunk/zp_api_lib</a></em>.</li>
<li>Example of use zp_api <a href="http://code.google.com/p/magento-w2p/source/browse/trunk/zp_api_lib/zp.test.php">here</a>.</li>
<li>Log file after run test or program <a href="http://code.google.com/p/magento-w2p/source/browse/trunk/zp_api_lib/zp_api_log.log">here</a>.</li>
</ol>
<h2>ZP API Functions Overview</h2>
<ol>
<li>Set api <em>key</em> and api <em>url</em></li>
<li>Catalogs API
<ol>
<li>Get list of catalogs for the domain from ZP (<a href="../../help/catalogs-api/">Catalogs API</a>)</li>
<li>Get list of templates of catalog (<a href="../../help/template-details-api/">Templates API</a>)</li>
</ol>
</li>
<li>Template API
<ol>
<li>Get details of template (<a href="../../help/template-details-api/">Templates API</a>)</li>
</ol>
</li>
<li>User API
<ol>
<li>Regiser new user (<a href="../../help/user-registration-api/">User rego API</a>)</li>
</ol>
</li>
<li>Order API
<ol>
<li>Get Order details (<a href="../../help/orders-api-order-details/">Order Details API</a>)</li>
<li>Saved order completion (<a href="../../help/orders-api-generate-output-files/">Order files generation API</a>)</li>
<li>Change Order status (<a href="../../help/orders-api-status-change/">Order status API</a>)</li>
</ol>
</li>
</ol>
<h2>Include API And Set api key and api url</h2>
<h4>Include file</h4>
<p>The only file needed to utilize the wrappers is <em>api/zp_api.php</em></p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="php codecolorer"><span class="kw1">include</span> <span class="br0">&#40;</span><span class="st0">&quot;api/zp_api.php&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span></div></td></tr></tbody></table></div>
<h4>Set api key and api url</h4>
<p>This function must be called before any other API wrapper functions to initialize some global variables.</p>
<p>There are 2 main parameters needed for the wrappers to function: <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> and the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="php codecolorer"><span class="kw2">function</span> zp_api_init<span class="br0">&#40;</span><span class="re0">$key</span><span class="sy0">,</span> <span class="re0">$url</span><span class="br0">&#41;</span><span class="br0">&#123;</span><span class="br0">&#125;</span><br />
<br />
<span class="co4">/**<br />
* @param      key, comes in form of a GUID, e.g. &quot;1CFFC003-C369-43A2-AFC4-E0AA292F4436&quot;<br />
* @param      url, a fully qualified domain name including http:// prefix<br />
* @return     none<br />
*/</span></div></td></tr></tbody></table></div>
<h2>Catalogs API</h2>
<p>ZetaPrints has a 3-level structure: <strong>portal</strong> <sup>1</sup>&#8211;&gt;<sup>*</sup> <strong>catalog</strong> <sup>1</sup>&#8211;&gt;<sup>*</sup> <strong>template</strong>. You need to obtain the list of catalogs and then request a list of templates for each of the catalogs. You may want to check access control attribute before requesting a list of template if your site should only show public templates.</p>
<h4>Get list of catalogs for the domain from ZP</h4>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="php codecolorer"><span class="co1">//1.1. Get list of catalogs for the domain</span><br />
<span class="re0">$list</span> <span class="sy0">=</span> zp_api_catalog_list<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$list</span><span class="br0">&#41;</span><span class="sy0">;</span><span class="co1">//process result here</span><br />
<span class="coMULTI">/*<br />
foreach ($list as $cdata){<br />
//process here<br />
}<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_catalog_list()</em> function returns</p>
<ul>
<li>Array of catalogs for the domain which is initiated at function <em>zp_api_init($key, $url)</em></li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal,</li>
<li>null &#8211; if couldn&#8217;t find below xml tag in the rss feed.</li>
</ul>
<div class="codecolorer-container xml mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="xml codecolorer"><span class="sc3"><span class="re1">&lt;channel<span class="re2">&gt;</span></span><span class="re1">&lt;item<span class="re2">&gt;</span></span><span class="re1">&lt;/item<span class="re2">&gt;</span></span><span class="re1">&lt;/channel<span class="re2">&gt;</span></span></span></div></td></tr></tbody></table></div>
<h4>Get list of templates of catalog</h4>
<p>You need a Catalog ID as a parameter to call this function. The parameter is a <strong>GUID</strong>, e.g. &#8220;<em>0187C932-6EB2-4DFF-B90E-3B3BB33E9279</em>&#8220;.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="php codecolorer"><span class="co1">//1.2. Get list of templates of catalog</span><br />
<span class="re0">$list_template</span> <span class="sy0">=</span> zp_api_catalog_detail<span class="br0">&#40;</span><span class="st0">&quot;_CatalogID_&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$list_template</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="coMULTI">/*<br />
foreach ($list_template as $template){<br />
//process here<br />
}<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_catalog_detail(&#8220;</em>CatalogID<em>&#8220;)</em> function returns</p>
<ul>
<li>Array of templates of catalog which has id = <em>CatalogID</em>.</li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal,</li>
<li>null &#8211; if couldn&#8217;t find below xml tag in the rss feed.</li>
</ul>
<div class="codecolorer-container xml mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br /></div></td><td><div class="xml codecolorer"><span class="sc3"><span class="re1">&lt;channel<span class="re2">&gt;</span></span><span class="re1">&lt;item<span class="re2">&gt;</span></span><span class="re1">&lt;/item<span class="re2">&gt;</span></span><span class="re1">&lt;/channel<span class="re2">&gt;</span></span></span></div></td></tr></tbody></table></div>
<h2>Get template details</h2>
<p>Once you have a list of templates from the previous calls you can request template details, one by one. You need a template ID as a parameter. It comes in a form of <strong>GUID</strong>, e.g. &#8220;<em>7AFB079C-BB16-4856-89FF-2E69B5BE303E</em>&#8220;.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="php codecolorer"><span class="co1">//2.1. Get template details</span><br />
<span class="re0">$template</span> <span class="sy0">=</span> zp_api_template_detail<span class="br0">&#40;</span><span class="st0">&quot;_TemplateID_&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$template</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="coMULTI">/*<br />
//process here<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_template_detail(&#8220;</em>TemplateID<em>&#8220;)</em> function returns</p>
<ul>
<li>Data Detail (data type is array) of Template which has id = <em>TemplateID</em>.</li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal.</li>
</ul>
<h2>Register new user</h2>
<p>One of the requirements to use the preview and order generation functions is having a valid user ID registered in ZetaPrints with access rights to the template. This set of functions works only with public templates.</p>
<p>You must implement user management where a user is identified even before registering, this identification persists between visits, where possible and is synchronized with <em>ZetaPrints User ID</em> at all times.</p>
<p>ZetaPrints caches all user input, including text and uploaded images. If ZetaPrints user id changes then anything the user entered or uploaded before becomes unavailable. Read more in <a href="../../help/user-registration-api/">User registration API</a></p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="php codecolorer"><span class="co1">// Prepare new user id and password</span><br />
<span class="re0">$user</span> <span class="sy0">=</span> zp_api_common_uuid<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// generate new user ID in ZP format (GUID)</span><br />
<span class="re0">$pass</span> <span class="sy0">=</span> zp_api_common_pass<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// generate an obscure password</span><br />
<span class="re0">$ret</span> <span class="sy0">=</span> zp_api_user_register<span class="br0">&#40;</span><span class="re0">$user</span><span class="sy0">,</span> <span class="re0">$pass</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// Register a new user with ZetaPrints</span><br />
<span class="kw1">echo</span> <span class="st0">&quot;regiter=[<span class="es4">$ret</span>]&quot;</span><span class="sy0">;;</span></div></td></tr></tbody></table></div>
<p><em>zp_api_user_register($user, $pass)</em> function returns</p>
<ul>
<li>0 &#8211; existing user, OK</li>
<li>1 &#8211; new user registered, OK</li>
<li>-1 &#8211; failure, try again with different parameters</li>
</ul>
<p>Registering a new user with <em>UserID</em> and <em>Password</em> matching an existing user is the same as verifying the user exists.</p>
<h2>Order API</h2>
<p>ZetaPrints Order API allows some manipulation of orders and retrieval of order details.</p>
<h4>Get Order details</h4>
<p>This function returns order details as <strong>XML</strong>. You need to provide a valid ZetaPrints order ID in <strong>GUID</strong> format. You may already have the Order ID stored in a database or it may be returned as a parameter after personalizing a design in a FRAME or e-cards widget.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="php codecolorer"><span class="co1">//Get order details</span><br />
<span class="re0">$id</span> <span class="sy0">=</span> <span class="st0">&quot;_ZetaPrints order ID_&quot;</span><span class="sy0">;</span><br />
<span class="re0">$order</span> <span class="sy0">=</span> zp_api_order_detail<span class="br0">&#40;</span><span class="re0">$id</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$order</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="coMULTI">/*<br />
//process here<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_order_detail(&#8220;</em>ZetaPrints order ID<em>&#8220;)</em> function returns</p>
<ul>
<li>Data Detail (data type is array) of ZetaPrints Order which has id = <em>ZetaPrints order ID</em>.</li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal.</li>
</ul>
<h4>Saved order completion</h4>
<p>When a design is personalized using ZetaPrints in a FRAME or e-cards widget it is saved as a temporary order. No output files are generated at that stage and it is not <a title="Magento and API billing" href="../../help/magento-and-api-billing/">billable</a>. The status of such orders is <em>Saved</em>. You can request ZetaPrints to generate output files for <em>saved</em> orders at any time, for example when a payment was received. Note that the saved order will be removed, a new order is created with all the files generated. Such orders are <a href="../../help/billing-rules/">billable</a>.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="php codecolorer"><span class="co1">//Saved order completion</span><br />
<span class="re0">$id</span> <span class="sy0">=</span> <span class="st0">&quot;_ZetaPrints saved order ID_&quot;</span><span class="sy0">;</span><br />
<span class="re0">$order</span> <span class="sy0">=</span> zp_api_order_save<span class="br0">&#40;</span><span class="re0">$id</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$order</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="coMULTI">/*<br />
//process here<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_order_save(&#8220;</em>ZetaPrints order ID<em>&#8220;)</em> function returns</p>
<ul>
<li><em>Data Detail</em> (data type is array) of New ZetaPrints Order.</li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal.</li>
</ul>
<h4>Change Order status</h4>
<p>As an order is progressing to shipping and other stages you may need to update the status in ZetaPrints database. It is a good idea to mark past orders as deleted. They won&#8217;t be <a href="../../help/order-retention/">physically deleted</a> straight away. You need to supply a valid order ID, current status and the new status as parameters. The status will be changed only if the current status you provide matches the status in ZetaPrints database.</p>
<div class="codecolorer-container php mac-classic" style="overflow:auto;white-space:nowrap;width:600px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td class="line-numbers"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br /></div></td><td><div class="php codecolorer"><span class="co1">//Change order status</span><br />
<span class="re0">$id</span> <span class="sy0">=</span> <span class="st0">&quot;_ZetaPrints order ID_&quot;</span><span class="sy0">;</span><br />
<span class="re0">$order</span> <span class="sy0">=</span> zp_api_order_change<span class="br0">&#40;</span><span class="re0">$id</span><span class="sy0">,</span> <span class="st0">&quot;_new status_&quot;</span><span class="sy0">,</span> <span class="st0">&quot;_current status_&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="kw3">print_r</span><span class="br0">&#40;</span><span class="re0">$order</span><span class="br0">&#41;</span><span class="sy0">;</span><br />
<span class="coMULTI">/*<br />
//process here<br />
*/</span></div></td></tr></tbody></table></div>
<p><em>zp_api_order_change(&#8220;</em>ZetaPrints order ID<em>&#8220;, &#8220;</em>new status<em>&#8220;, &#8220;</em>current status<em>&#8220;)</em> function returns</p>
<ul>
<li>Data Detail (data type is array) of New ZetaPrints Order.</li>
<li>null &#8211; if you didn&#8217;t set <a href="../../help/about-web-to-print-api/">ZetaPrints API Key</a> or the <a href="../../help/category/access-url/">domain name</a> of your ZetaPrints portal.</li>
</ul>

<!-- Facebook Like Button v1.9.6 BEGIN [http://blog.bottomlessinc.com] -->
<iframe src="http://www.facebook.com/plugins/like.php?href=http://www.zetaprints.com/magentohelp/zp-api-user-guide/&layout=button_count&show_faces=false&width=200&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:200px; height: 30px; align: left; margin: 2px 0px 2px 0px"></iframe>
<!-- Facebook Like Button END -->
                                    <div class="clear"></div>
                  <div class="post-rel"><b>See also: </b><ul><li><a href="../user-management/" rel="bookmark" title="October 26, 2010">User management</a></li>

<li><a href="../interaction-overview/" rel="bookmark" title="October 26, 2010">Interaction overview</a></li>

<li><a href="../redefined-functions/" rel="bookmark" title="October 26, 2010">Redefined functions</a></li>

<li><a href="../custom-configuration/" rel="bookmark" title="April 19, 2011">Custom configuration</a></li>

<li><a href="../magento-theme-hiearachy/" rel="bookmark" title="June 25, 2011">Magento theme hiearachy</a></li>
</ul><!-- Similar Posts took 4.083 ms --></div>
                  <p class="postmetadata alt"><small></small></p>
                  <div class="clear"></div>
                </div>
              </div>
            </div>
                                    </div>
    </div>
  </div>
</div> 
<div id="footer-container" class="container">
  <div id="footer">
    <div id="bottomnav">
      <!-- a id="pagecounter" href="http://whos.amung.us/show/9bm3msts"><img src="http://whos.amung.us/widget/9bm3msts" alt="hit counter" border="0" height="29" width="81" /></a -->
      <ul>
        <li class="first"><a href="../../about-us/" title="About ZetaPrints">About ZetaPrints</a></li>
        <li><a href="../../about-us/contact-us/" title="Contact us">Contact us</a></li>
        <li><a href="http://zetaprints.com/" title="Log in">Log in</a></li>
        <li><a href="../../web-to-print-legal/privacy-policy/" title="Privacy policy">Privacy</a></li>
        <li><a href="../../sitemap/" title="Sitemap">Sitemap</a></li>
        <li><a href="../../about-us/summary-of-terms-and-conditions/" title="Terms and conditions">Terms of Service</a></li>
        <li><a href="../../blog/" title="Web-to-print Blog">Web-to-print Blog</a></li>
        <li><a href="../../help/" title="Web-to-print Help">Web-to-print Help</a></li>
      </ul>
    </div>
    <p><a href="../../blog/" title="Web-to-print Blog"><img class="footer-icon" alt="Blog" src="../wp-content/themes/water-zp-3/images/blog.png"/></a>&nbsp;
<a href="http://twitter.com/zetaprints" title="Follow us on twitter"><img class="footer-icon" alt="Twitter" src="../wp-content/themes/water-zp-3/images/twitter_16.png"/></a>&nbsp;
&copy; 2006-2012 ZetaPrints Ltd. All rights reserved. Powered by <a href="http://wordpress.org">WordPress</a>.</p>
    <a href="#header" title="Back to Top" class="top-btn">Back to Top</a>
  </div>
</div>

<script type="text/javascript">
    (function(){
        var ga = document.createElement('script');
        ga.type="text/javascript";
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })
</script>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1132851-1']);
    _gaq.push(['_trackPageview']);
</script>
</body>
</html>

<!-- Localized -->