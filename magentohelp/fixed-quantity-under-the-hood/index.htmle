

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="verify-v1" content="GACnn9+1c3JzusKbMwxWr+f9dKvqx8As8sbHI8tNyxA=" />
  <meta name="keywords" content="web-to-print, online printing, zetaprints, online print ordering" />
  <title>   Fixed quantity: under the hood | Magento web-to-print &amp; dynamic imaging</title>
  <script type="text/javascript" src="../wp-content/themes/water-zp-3/jslib.js"></script>
  <meta name="generator" content="ZetaPrints"/> <!-- leave this for stats -->
  <link rel="stylesheet" href="../wp-content/themes/water-zp-3/style.css" type="text/css" media="all" />
  <link href="../wp-content/themes/water-zp-3/style-fixed.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../feed/" />
  <link rel="alternate" type="text/xml" title="RSS .92" href="../feed/rss/" />
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="../feed/atom/" />
  <!--link rel="pingback" href="http://www.zetaprints.com/magentohelp/xmlrpc.php" /-->
  		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.zetaprints.com\/magentohelp\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.1"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d");return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(String.fromCharCode(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(String.fromCharCode(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(String.fromCharCode(55357,56835),0,0):e.fillText(String.fromCharCode(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='cat-post-tree-ajax-css'  href='../wp-content/plugins/cat-post-tree-ajax/cat-post-tree-ajax-ver=0.7.css' type='text/css' media='screen' />
<link rel='stylesheet' id='top_css-css'  href='../wp-content/themes/water-zp-3/top-menu-ver=4.4.1.css' type='text/css' media='all' />
<!--[if IE]>
<link rel='stylesheet' id='top_css_ie-css'  href='../wp-content/themes/water-zp-3/top-menu-ie-ver=4.4.1.css' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='codecolorer-css'  href='../wp-content/plugins/codecolorer/codecolorer-ver=0.9.9.css' type='text/css' media='screen' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='../wp-content/themes/water-zp-3/js/top-menu.js?ver=4.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CatPostAjax = {"ajaxurl":"http:\/\/www.zetaprints.com\/magentohelp\/wp-admin\/admin-ajax.php","nice_ajax_tree_img":"http:\/\/www.zetaprints.com\/magentohelp\/wp-content\/plugins\/cat-post-tree-ajax\/img\/","type":"post","id":"12369","cat":"1144"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/cat-post-tree-ajax/cat-post-tree-ajax.js?ver=4.4.1'></script>
<link rel='https://api.w.org/' href='../wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc-rsd.php.html" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Fixed quantity for web-to-print' href='../fixed-quantity/' />
<link rel='next' title='Free Magento AMI on AWS' href='../free-magento-ami-on-aws/' />
<meta name="generator" content="WordPress 4.4.1" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='../index-p=12369.html' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed/index-url=http___www.zetaprints.com_magentohelp_fixed-quantity-under-the-hood_.html" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed/index-url=http___www.zetaprints.com_magentohelp_fixed-quantity-under-the-hood_&format=xml.html" />
<meta property="og:site_name" content="Magento web-to-print &amp;amp; dynamic imaging" />
<meta property="og:title" content="Fixed quantity: under the hood" />
<meta property="og:url" content="http://www.zetaprints.com/magentohelp/fixed-quantity-under-the-hood/" />
<meta property="og:type" content="article" />
  <!--[if IE]>
  <style>
  
  </style>
  <![EndIf]-->
  <style type="text/css" media="print">
  #header, #footer, #rightcol, #logo, .social_bookmark, .post-rel, .postmetadata, #questionMark, p.nocomments {display:none}
  </style>
  <link media="screen" type="text/css" href="../wp-content/themes/water-zp-3/grid.css" rel="stylesheet"/>
  <script type='text/javascript' src="../wp-content/themes/water-zp-3/js/grid.js" ></script>
</head>

<body>
  <div id="header-container" class="clearfix container">
    <div id="header">
      <div class="logo">
        <a href="../../"><img src="../wp-content/themes/water-zp-3/images/logo.gif" alt="ZetaPrints Web-to-print home"/></a>
        <h1><a href="../"><span>ZetaPrints</span> magento</a></h1>
        <h3>Web-to-Print &amp; dynamic imaging</h3>
      </div>
      <form method="get" id="searchform" action="http://www.zetaprints.com/magentohelp/">
        <div>
          <input type="text" value=""  name="s" id="s" />
          <input type="image" id="searchsubmit" alt="Search" src="../wp-content/themes/water-zp-3/images/search_btn.gif" />
        </div>
      </form>
      <div class="nav">
    <ul class="main" id="top-drop-menu">
        <li>
            <a href="../../" title="Zetaprints home">Home</a>
        </li><li class="drop">
            <a href="../../help/" class="drop-down-link">Help</a>
            <ul>
                <li>
                    <a href="../../help/" class="drop-down-link">Web-to-print help</a>
                </li>
                <li>
                    <a href="../" class="drop-down-link">Magento help</a>
                </li>
				<li>
					<a href="../../premium/" class="drop-down-link">Premium support</a>
				</li>
				<li>
					<a href="../../directory/" class="drop-down-link">Resources</a>
				</li>
				<li class="last">
					<a href="../../userhelp/" class="drop-down-link">End user help</a>
				</li>
            </ul>
        </li><li>
            <a href="../../blog/" title="Web to print blog">Blog</a>
        </li><li>
            <a href="../../packages/sign-up-for-web-to-print/" title="Sign up for web-to-print">Sign up</a>
        </li><li class="no_border">
            <a href="http://zetaprints.com" title="Web to print system">Log in</a>
        </li>
    </ul>
</div>
<!-- nav -->
    </div> <!-- header -->
  </div> <!-- container -->

<link href="%3C/index-bloginfo('template_url')?.html>/js/jquery-ui-1.8.2.custom.css" rel="stylesheet" type="text/css"/>
<script src="%3C/index-bloginfo('template_url')?.html>/js/jquery-ui-1.8.2.custom.min.js"></script>
<script>
  jQuery(document).ready(function(){
    // init jQuery for tabs div
    jQuery("#featuretabs").tabs({
      select: function(event, ui){
        jQuery( "a" ).blur(); // remove border for selected tab
      }
    })
  });
</script>
<div id="content-container" class="container clearfix">
      <div id="rightcol">
      <ul>
        <li id="text-3" class="widget widget_text"><h2 class="widgettitle">Premium support</h2>
			<div class="textwidget"><div id="premium_menu_container">
<ul id="premium_menu">
<li><a href="../../premium/index.php/web-to-print-support.html" title="Web-to-print and dynamic imaging support">Installation, administration <img src="../../help/img/premium_go_ico.png" /></a></li>
<li><a href="../../premium/index.php/templates.html" title="Web-to-print and dynamic imaging templates support">Template conversion <img src="../../help/img/premium_go_ico.png" /></a></li>
</ul>
</div></div>
		</li>
<li id="niceajaxtree-widget-3" class="widget cat-post-ajax-tree"><div class="nat-menu-li">
<h2 class="head"><a
	href="../category/overview/"
	title="View all posts in Overview">Overview</a>
<span
	class="arrow cat-item-917">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-917" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/installation-steps/"
	title="View all posts in Web-to-print installation">Web-to-print installation</a>
<span
	class="arrow cat-item-1">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/administration/"
	title="View all posts in Web-to-print administration">Web-to-print administration</a>
<span
	class="arrow cat-item-1134">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1134" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/themes-for-web-to-print/"
	title="View all posts in Web-to-print themes">Web-to-print themes</a>
<span
	class="arrow cat-item-1157">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1157" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/developer/"
	title="View all posts in Web-to-print for developers">Web-to-print for developers</a>
<span
	class="arrow cat-item-1135">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1135" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/access-control/"
	title="View all posts in Access control plugin">Access control plugin</a>
<span
	class="arrow cat-item-570">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-570" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/approval-admin/"
	title="View all posts in Order approval plugin">Order approval plugin</a>
<span
	class="arrow cat-item-1142">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1142" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/file-attachments/"
	title="View all posts in Dynamic attachments plugin">Dynamic attachments plugin</a>
<span
	class="arrow cat-item-1143">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1143" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/fixed-quantities-plugin/"
	title="View all posts in Fixed quantities plugin">Fixed quantities plugin</a>
<span
	class="arrow cat-item-1144 collapse">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1144" style="">
<ul><li><a href='../bulk-edit-fixed-quantities/' class='di__12480 postlink'>Bulk edit fixed quantities</a></li><li><a href='../complex-products-with-fixed-quantities/' class='di__12720 postlink'>Complex products with fixed quantities</a></li><li><a href='../fixed-quantity/' class='di__12347 postlink'>Fixed quantity for web-to-print</a></li><li><a href='../fixed-quantity-uninstall/' class='di__12894 postlink'>Fixed Quantity uninstall</a></li><li><a href='index.html' class='di__12369 postlink'><strong>Fixed quantity: under the hood</strong></a></li></ul></div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/template-errors/"
	title="View all posts in Troubleshooting">Troubleshooting</a>
<span
	class="arrow cat-item-607">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-607" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/support/"
	title="View all posts in Support">Support</a>
<span
	class="arrow cat-item-1042">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1042" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/distribution-map-plugin/"
	title="View all posts in Distribution map plugin">Distribution map plugin</a>
<span
	class="arrow cat-item-1150">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1150" style="display:none;">
</div>
</div>
<div class="nat-menu-li">
<h2 class="head"><a
	href="../category/web-to-print-store-builder/"
	title="View all posts in Web-to-print store builder">Web-to-print store builder</a>
<span
	class="arrow cat-item-1149">&nbsp;</span>
</h2>
<div class="cat-post-ajax-tree-submenu" id="submenu-1149" style="display:none;">
</div>
</div>
</li>
		<li id="recent-posts-3" class="widget widget_recent_entries">		<h2 class="widgettitle">Recent Articles</h2>
		<ul>
					<li>
				<a href="../web-to-print-extension-and-magento-compiler/">Compiling Magento with web-to-print</a>
						</li>
					<li>
				<a href="../web-to-print-demo-installation-on-magento/">Web-to-print express demo installation on Magento</a>
						</li>
					<li>
				<a href="../ignore-unpaid-web-to-print-orders/">Ignore unpaid orders</a>
						</li>
					<li>
				<a href="../dynamic-imaging-products/">Dynamic imaging products</a>
						</li>
					<li>
				<a href="../web-to-print-reports-in-magento/">Reports for web-to-print orders</a>
						</li>
				</ul>
		</li>
		      </ul>
    </div>
  <div id="leftcol">
    <div id="news" class="clearfix">
      <div id="newswrap">
                              <div class="post" id="post-12369">
              <h1 class="posttitle"><a href="index.html" rel="bookmark" title="Permanent Link: Fixed quantity: under the hood">Fixed quantity: under the hood</a></h1>
              <div class="pcont">
                <div class="catfloat"><small><a href="../category/fixed-quantities-plugin/" rel="category tag">Fixed quantities plugin</a></small></div>
                <small>07/01/2011 <!-- by atanas --></small>
                <div class="entry">
                  <p>Our <a title="Fixed quantity extension for Magento" href="https://www.magentocommerce.com/magento-connect/fixed-quantity.html" target="_self">Fixed quantity extension</a> does not create new product types, just adds one or several more options to existing non-complex products. Complex product types have their own rules for price calculation and should not be used with this extension. <!--more--></p>
<h2>Pricing rules</h2>
<p>When creating a product that will have fixed quantities, Magento still requires you to set normal price even though it will not be used in front-end.</p>
<ul>
<li>When at least one fixed quantity is assigned, it overrides any price calculations made in cart and during checkout.</li>
<li>When more then one fixed quantity is created, the lowest price is used as the product price.</li>
<li>When adding a product to cart directly from category view page, the lowest price and quantity is added to cart.</li>
</ul>
<p>Again, even if you set prices in <em>Fixed quantities</em> tab you need to set some price value in <em>Price</em> tab, even if it will be ignored. It is does not matter what base price you set &#8211; Magento will use fixed quantity prices.</p>
<h2>Quantity rules</h2>
<p>The extension disables <strong>Qty</strong> field in the store front-end and users are not able to input custom quantity amounts on their own.</p>
<p>Customers can only order one of the listed fixed quantity options per product page visit.  If the customer returns to the same product after adding one option to cart (<em>before order is completed</em>) and adds it once more, the product is added to cart  as   a new item.</p>
<p>A product with fixed quantity is displayed with its unit label in cart and all through the rest of the ordering process &#8211; (<em>ex. 100 Posters, Three hundred posters</em>).</p>
<p>Products with <em>Fixed quantities</em> have the <strong>Qty box</strong> on shopping cart page <em>disabled</em>, preventing customers from being able to input custom values during the checkout process.</p>
<p><img class="alignnone size-full wp-image-12440" title="Magento Fixed quantity shopping cart page" src="../wp-content/uploads/2011/01/magento_fixed-quantity_qty_box.png" alt="" width="597" height="421" srcset="http://www.zetaprints.com/magentohelp/wp-content/uploads/2011/01/magento_fixed-quantity_qty_box-300x211.png 300w, http://www.zetaprints.com/magentohelp/wp-content/uploads/2011/01/magento_fixed-quantity_qty_box.png 597w" sizes="(max-width: 597px) 100vw, 597px" /></p>
<h2>Redefined classes</h2>
<p>Fixed quantity extension redefines 2 classes:</p>
<ul>
<li> <em>Mage_Catalog_Model_Product_Type_Price</em> &#8211; &gt; <em>ZetaPrints_Fixedprices_Model_Fixedprices</em> &#8211; this is where product price information is given.</li>
<li><em>Mage_Sales_Model_Quote_Item &#8211; &gt; ZetaPrints_Fixedprices_Model_Quote_Item</em> &#8211; this class is responsible for product order presentation (<em>in cart, checkout, order details</em>). We need this to present separate options as different items in the cart. Otherwise, adding the same product to cart results in adding larger quantities of it.</li>
</ul>
<h2>Events</h2>
<p>We have 3 events that we observe and use:</p>
<ul>
<li> <em>catalog_product_collection_load_after</em> &#8211; this event fires when product collection is prepared (<em>ex. in category view</em>). Here we update product <em>min_price</em>, <em>max_price</em>, <em>minimal_price</em> attributes, to match lowest fixed price, this gives us correct price block in listings.</li>
</ul>
<p>In <em>adminhtml</em>:</p>
<ul>
<li> <em>adminhtml_catalog_product_edit_prepare_form</em> &#8211; remove duplicate input entries. Our new attributes are added to <em>General</em> tab by default. But, since we have a separate tab for them, we have to remove them from <em>General</em> tab.</li>
<li><em>core_block_abstract_prepare_layout_after</em> &#8211; add fixed prices. After admin product edit layout is prepared, we hook and add our tab.</li>
</ul>

<!-- Facebook Like Button v1.9.6 BEGIN [http://blog.bottomlessinc.com] -->
<iframe src="http://www.facebook.com/plugins/like.php?href=http://www.zetaprints.com/magentohelp/fixed-quantity-under-the-hood/&layout=button_count&show_faces=false&width=200&action=like&colorscheme=light" scrolling="no" frameborder="0" allowTransparency="true" style="border:none; overflow:hidden; width:200px; height: 30px; align: left; margin: 2px 0px 2px 0px"></iframe>
<!-- Facebook Like Button END -->
                                    <div class="clear"></div>
                  <div class="post-rel"><b>See also: </b><ul><li><a href="../fixed-quantity/" rel="bookmark" title="January 6, 2011">Fixed quantity for web-to-print</a></li>

<li><a href="../complex-products-with-fixed-quantities/" rel="bookmark" title="May 9, 2011">Complex products with fixed quantities</a></li>

<li><a href="../bulk-edit-fixed-quantities/" rel="bookmark" title="April 4, 2011">Bulk edit fixed quantities</a></li>

<li><a href="../fixed-quantity-uninstall/" rel="bookmark" title="May 23, 2011">Fixed Quantity uninstall</a></li>
</ul><!-- Similar Posts took 3.007 ms --></div>
                  <p class="postmetadata alt"><small></small></p>
                  <div class="clear"></div>
                </div>
              </div>
            </div>
                                    </div>
    </div>
  </div>
</div> 
<div id="footer-container" class="container">
  <div id="footer">
    <div id="bottomnav">
      <!-- a id="pagecounter" href="http://whos.amung.us/show/9bm3msts"><img src="http://whos.amung.us/widget/9bm3msts" alt="hit counter" border="0" height="29" width="81" /></a -->
      <ul>
        <li class="first"><a href="../../about-us/" title="About ZetaPrints">About ZetaPrints</a></li>
        <li><a href="../../about-us/contact-us/" title="Contact us">Contact us</a></li>
        <li><a href="http://zetaprints.com/" title="Log in">Log in</a></li>
        <li><a href="../../web-to-print-legal/privacy-policy/" title="Privacy policy">Privacy</a></li>
        <li><a href="../../sitemap/" title="Sitemap">Sitemap</a></li>
        <li><a href="../../about-us/summary-of-terms-and-conditions/" title="Terms and conditions">Terms of Service</a></li>
        <li><a href="../../blog/" title="Web-to-print Blog">Web-to-print Blog</a></li>
        <li><a href="../../help/" title="Web-to-print Help">Web-to-print Help</a></li>
      </ul>
    </div>
    <p><a href="../../blog/" title="Web-to-print Blog"><img class="footer-icon" alt="Blog" src="../wp-content/themes/water-zp-3/images/blog.png"/></a>&nbsp;
<a href="http://twitter.com/zetaprints" title="Follow us on twitter"><img class="footer-icon" alt="Twitter" src="../wp-content/themes/water-zp-3/images/twitter_16.png"/></a>&nbsp;
&copy; 2006-2012 ZetaPrints Ltd. All rights reserved. Powered by <a href="http://wordpress.org">WordPress</a>.</p>
    <a href="#header" title="Back to Top" class="top-btn">Back to Top</a>
  </div>
</div>

<script type="text/javascript">
    (function(){
        var ga = document.createElement('script');
        ga.type="text/javascript";
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })
</script>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1132851-1']);
    _gaq.push(['_trackPageview']);
</script>
</body>
</html>

<!-- Localized -->